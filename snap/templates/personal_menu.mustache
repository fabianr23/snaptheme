{{!
    This file is part of Moodle - http://moodle.org/

    Moodle is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    Moodle is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with Moodle.  If not, see <http://www.gnu.org/licenses/>.
}}
{{!
 @package   theme_snap
 @copyright Copyright (c) 2017 Blackboard Inc.
 @license   http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
}}

<nav id="snap-pm" tabindex="-1">
    <div id="snap-pm-inner">
        <!-- Header -->
        <header id="snap-pm-header" class="clearfix">
            <div class="pull-right">
                <!-- <a id="snap-pm-close" class="js-snap-pm-trigger snap-action-icon snap-icon-close" href="#">
                        <small>{{#str}}closebuttontitle{{/str}}</small>
                </a> -->
            </div>
            <!-- IDO Logo -->
            <div class="ido-logo">
                <img src="/theme/image.php/snap/core/1513708876/u/f1" alt="IDOLearning"/>
            </div>
            <!-- User details -->
            <div class="snap-pm-user">
                <div class= "container-user-header"> 
                    {{{userpicture}}}
                    {{{fullnamelink}}}
                    {{{realfullnamelink}}}
                    <div id="snap-pm-header-quicklinks">
                        <div id="button-logout">
                            {{#quicklinks}}
                                <a {{#id}}id="{{.}}" {{/id}}href="{{link}}">{{title}}</a>
                            {{/quicklinks}}
                        </div>
                    </div>
                </div>
            </div>


        </header>

        <!-- Content -->
        <div id="snap-pm-content" class="row">
            
            <!-- Updates -->
            <div id="container-actions-left">
                <div id="container-sections-updates">
                    <div id="snap-pm-updates" class="col-lg-12">
                        {{#updates}}
                            {{#update}}
                                <section>{{{.}}}</section>
                            {{/update}}
                        {{/updates}}
                    </div>
                </div>
                <div id="button-toggle-menu-open">
                    <img src="/theme/snap/images/show-menu-icon.png" alt="show menu"/>
                </div>
                <div id="button-toggle-menu-close">
                    <img src="/theme/snap/images/close-menu-icon1.png" alt="close menu"/>
                </div>
            </div>
            <!-- Courses -->
            <div id="container-courses">
                <section id="snap-pm-courses" class="col-lg-12">
                    <h2 class="sr-only">{{#str}}courses{{/str}}</h2>

    {{!
        When the user has courses which have finished, output course by year as tabs.
    }}

                    {{#coursenav}}
                        <!-- Nav tabs -->
                        <ul class="nav nav-tabs" role="tablist" id="snap-pm-courses-nav">
                                <li class="nav-item">
                                    <a class="nav-link active" aria-expanded="true" aria-controls="snap-pm-courses-current" href="#snap-pm-courses-current" id="snap-pm-tab-current" role="tab" data-toggle="tab">{{#str}}courses{{/str}}</a>
                                </li>
                                {{#pastcourselist}}
                                    <li class="nav-item">
                                        <a class="nav-link" href="#snap-pm-courses-{{year}}" aria-controls="snap-pm-courses-{{year}}" id="snap-pm-tab-{{year}}" role="tab" data-toggle="tab">{{year}}</a>
                                    </li>
                                {{/pastcourselist}}
                        </ul>

                        <!-- Tab panes -->
                        <div class="tab-content" id="snap-pm-courses-content">
                            <!-- Current courses -->
                            {{> theme_snap/personal_menu_current_courses }}

                            <!-- Past courses by year -->
                            {{#pastcourselist}}
                                <div id="snap-pm-courses-{{year}}" class="tab-pane clearfix" role="tabpanel" aria-labelledby="hsnap-pm-tab-{{year}}">
                                    {{#courses}}
                                        {{> theme_snap/course_cards }}
                                    {{/courses}}
                                </div>
                            {{/pastcourselist}}
                        </div>
                    {{/coursenav}}

    {{!
        When the user has no course which have finished, output current courses only.
    }}

                    {{^coursenav}}
                    <!-- Current courses -->
                    {{> theme_snap/personal_menu_current_courses }}
                    {{/coursenav}}

                    {{{browseallcourses}}}
                </section>
            </div>
        </div>
        {{#updates}}
            {{{mobilemenu}}}
        {{/updates}}
        <!-- // End Content -->
    </div>
</nav>
